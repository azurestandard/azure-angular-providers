<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Azure Standard AngularJS Providers</title>
	</head>
	<body ng-app="AzureApp" ng-controller="AzureCtrl">
		<h1>Azure Standard AngularJS Providers</h1>

		<p>Hello {{person.name}},</p>
		<p>You have {{favorites.length}} favorites. They are:</p>
		<table>
			<thead>
				<th>Code</th>
				<th>Name</th>
			</thead>
			<tbody>
				<tr ng-repeat="product in favorites">
					<td>{{product.code}}</td>
					<td>{{product.name}}</td>
				</tr>
			</tbody>
		</table>

		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-resource.min.js"></script>
		<script src="azure-providers.js"></script>
		<script type="text/javascript">
			angular.module('AzureApp', ['azureProviders'])
				.controller(
					'AzureCtrl',
					['$scope', '$timeout', 'AzureAPI',
					function ($scope, $timeout, AzureAPI) {
						$scope.person = AzureAPI.person.get();
						$scope.person.$promise.then(function (person) {
							$scope.favorites = AzureAPI.product.query({person: person.id});
						});
					}]);
		</script>
	</body>
</html>
